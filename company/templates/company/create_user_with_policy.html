{% extends 'company/base.html' %}
{% load i18n %}

{% block title %}{% trans 'Create User with Policy - Super Insurance' %}{% endblock %}

{% block breadcrumb %}
    <li class="breadcrumb-item active" aria-current="page">{% trans 'Create User with Policy' %}</li>
{% endblock %}

{% block company_content %}
<div class="form-container">
    <div class="text-center mb-4">
        <h2 class="mb-2">{% trans 'Create User and Assign Policy' %}</h2>
        <p class="text-muted">{% trans 'Fill in the details below to create a new user and assign an insurance policy.' %}</p>
    </div>
    {% if messages %}
        <div class="alert alert-danger">
            {% for message in messages %}
                {{ message }}
            {% endfor %}
        </div>
    {% endif %}
    <form method="post">
        {% csrf_token %}
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="{{ form.username.id_for_label }}" class="form-label">{% trans 'Username' %}</label>
                {{ form.username }}
            </div>
            <div class="col-md-6 mb-3">
                <label for="{{ form.email.id_for_label }}" class="form-label">{% trans 'Email' %}</label>
                {{ form.email }}
            </div>
        </div>
        <div class="mb-3">
            <label for="{{ form.password.id_for_label }}" class="form-label">{% trans 'Password' %}</label>
            {{ form.password }}
        </div>
        <div class="mb-3">
            <label for="{{ form.policy.id_for_label }}" class="form-label">{% trans 'Policy' %}</label>
            {{ form.policy }}
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="{{ form.start_date.id_for_label }}" class="form-label">{% trans 'Start Date' %}</label>
                {{ form.start_date }}
            </div>
            <div class="col-md-6 mb-3">
                <label for="{{ form.end_date.id_for_label }}" class="form-label">{% trans 'End Date' %}</label>
                {{ form.end_date }}
            </div>
        </div>
        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
            <a href="javascript:history.back()" class="btn btn-secondary">{% trans 'Back' %}</a>
            <button type="submit" class="btn btn-primary">{% trans 'Create User and Assign Policy' %}</button>
        </div>
    </form>
</div>
{% endblock %}